<!DOCTYPE html>
<html>
<head>
    <title>QUICK TEST - Android Deep Link</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; line-height: 1.5; }
        .test-link { 
            display: block; padding: 15px; margin: 10px 0; 
            background: #007bff; color: white; text-decoration: none; 
            border-radius: 5px; text-align: center; font-size: 18px;
        }
        .info { background: #f8f9fa; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .log { background: #333; color: #0f0; padding: 10px; font-family: monospace; font-size: 12px; }
    </style>
</head>
<body>
    <h1>üöÄ QUICK TEST</h1>
    
    <div class="info">
        <strong>Strategy Baru (Firebase Dynamic Link):</strong><br>
        ‚úÖ Generate Firebase Dynamic Link otomatis<br>
        ‚úÖ Server-side redirect langsung (HTTP 302)<br>
        ‚úÖ Compatible dengan Firebase SDK di app<br>
        ‚úÖ Target URL: /app/:type (untuk app handling)<br>
        ‚úÖ Tidak ada custom scheme, pure Firebase
    </div>

    <a href="https://elegant-kleicha-42b5e8.netlify.app/r/cek-saldo" class="test-link">
        ÔøΩ TEST CEK SALDO (Firebase Dynamic Link)
    </a>
    
    <a href="https://elegant-kleicha-42b5e8.netlify.app/r/cek-saldo?user=123&action=view" class="test-link">
        ÔøΩ TEST WITH PARAMETERS (Firebase Dynamic Link)
    </a>
    
    <a href="https://elegant-kleicha-42b5e8.netlify.app/app/cek-saldo" class="test-link" style="background: #6c757d;">
        üì± TEST APP ENDPOINT (Direct)
    </a>
    
    <a href="https://elegant-kleicha-42b5e8.netlify.app/app/cek-saldo?user=123&action=view" class="test-link" style="background: #6c757d;">
        ÔøΩ TEST APP ENDPOINT WITH PARAMS (Direct)
    </a>
    
    <div class="info">
        <strong>Expected Flow (Firebase Dynamic Link):</strong><br>
        <strong>1. Manual URL ‚Üí Firebase Dynamic Link</strong><br>
        &nbsp;&nbsp;&nbsp;`/r/cek-saldo` ‚Üí `individual-engagement-3.web.app/?link=...`<br>
        <br>
        <strong>2. Firebase Processes Link</strong><br>
        &nbsp;&nbsp;&nbsp;- Check if app installed<br>
        &nbsp;&nbsp;&nbsp;- Open app dengan URL `/app/cek-saldo`<br>
        &nbsp;&nbsp;&nbsp;- Firebase SDK handle URL di app Anda<br>
        <br>
        <strong>3. App Endpoint (Fallback)</strong><br>
        &nbsp;&nbsp;&nbsp;Jika dibuka di browser, show instruction<br>
        <br>
        <strong>‚úÖ Kompatibel dengan Firebase SDK existing di app!</strong>
    </div>
    
    <div class="log" id="testLog" style="display:none;">
        <div>üîç Debug Console akan muncul di sini</div>
    </div>
    
    <script>
        // Show current environment
        document.getElementById('testLog').style.display = 'block';
        document.getElementById('testLog').innerHTML = `
            <div>üîç Test Environment:</div>
            <div>User Agent: ${navigator.userAgent}</div>
            <div>Is Android: ${/Android/.test(navigator.userAgent)}</div>
            <div>Current Time: ${new Date().toLocaleString()}</div>
            <div>---</div>
            <div>Test links above akan buka di tab baru.</div>
            <div>Buka Developer Console (F12) untuk debug log detail.</div>
        `;
        
        // Override link behavior untuk buka di tab baru
        document.querySelectorAll('.test-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                window.open(this.href, '_blank');
            });
        });
    </script>
</body>
</html>
